{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { environment } from '@environments/environment';\nlet JwtInterceptor = class JwtInterceptor {\n  constructor(accountService) {\n    this.accountService = accountService;\n  }\n\n  intercept(request, next) {\n    // add auth header with jwt if user is logged in and request is to the api url\n    const user = this.accountService.userValue;\n    const isLoggedIn = user && user.token;\n    const isApiUrl = request.url.startsWith(environment.apiUrl);\n\n    if (isLoggedIn && isApiUrl) {\n      request = request.clone({\n        setHeaders: {\n          Authorization: `Bearer ${user.token}`\n        }\n      });\n    }\n\n    return next.handle(request);\n  }\n\n};\nJwtInterceptor = __decorate([Injectable()], JwtInterceptor);\nexport { JwtInterceptor };","map":null,"metadata":{},"sourceType":"module"}